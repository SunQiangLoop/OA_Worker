
2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.020ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="users"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.055ms] [34;1m[rows:6][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "users" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.006ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "users" AND name = "idx_users_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "users" AND name = "idx_users_username"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "users" AND name = "idx_users_email"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "users" AND name = "idx_users_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "users" AND name = "idx_users_department_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="user_roles"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.020ms] [34;1m[rows:1][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "user_roles" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.005ms] [34;1m[rows:-][0m SELECT * FROM `user_roles` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="roles"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.020ms] [34;1m[rows:3][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "roles" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `roles` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "roles" AND name = "idx_roles_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "roles" AND name = "idx_roles_name"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="role_permissions"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:1][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "role_permissions" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT * FROM `role_permissions` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="permissions"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:3][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "permissions" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `permissions` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "permissions" AND name = "idx_permissions_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "permissions" AND name = "idx_permissions_code"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="refresh_tokens"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.019ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "refresh_tokens" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `refresh_tokens` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "refresh_tokens" AND name = "idx_refresh_tokens_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "refresh_tokens" AND name = "idx_refresh_tokens_user_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "refresh_tokens" AND name = "idx_refresh_tokens_token_hash"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "refresh_tokens" AND name = "idx_refresh_tokens_expires_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="api_keys"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:4][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "api_keys" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `api_keys` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_keys" AND name = "idx_api_keys_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_keys" AND name = "idx_api_keys_key_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_keys" AND name = "idx_api_keys_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="api_nonces"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.018ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "api_nonces" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `api_nonces` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_nonces" AND name = "idx_api_nonces_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_nonces" AND name = "idx_api_nonces_key_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_nonces" AND name = "idx_api_nonces_nonce"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "api_nonces" AND name = "idx_api_nonces_expires_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="tickets"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.373ms] [34;1m[rows:8][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "tickets" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.008ms] [34;1m[rows:-][0m SELECT * FROM `tickets` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_title"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_priority"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_created_by"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_assignee_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "tickets" AND name = "idx_tickets_type"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="departments"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.021ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "departments" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `departments` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "departments" AND name = "idx_departments_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "departments" AND name = "idx_departments_name"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "departments" AND name = "idx_departments_parent_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "departments" AND name = "idx_departments_manager_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="form_definitions"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:4][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "form_definitions" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `form_definitions` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_definitions" AND name = "idx_form_definitions_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_definitions" AND name = "idx_form_definitions_code"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_definitions" AND name = "idx_form_definitions_created_by"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="form_data"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.018ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "form_data" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `form_data` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_data" AND name = "idx_form_data_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_data" AND name = "idx_form_data_form_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_data" AND name = "idx_form_data_owner_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "form_data" AND name = "idx_form_data_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="expense_reimbursements"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.018ms] [34;1m[rows:6][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "expense_reimbursements" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.005ms] [34;1m[rows:-][0m SELECT * FROM `expense_reimbursements` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_reimbursements" AND name = "idx_expense_reimbursements_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_reimbursements" AND name = "idx_expense_reimbursements_form_data_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_reimbursements" AND name = "idx_expense_reimbursements_reimbursement_type"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_reimbursements" AND name = "idx_expense_reimbursements_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_reimbursements" AND name = "idx_expense_reimbursements_workflow_instance_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="expense_items"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:3][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "expense_items" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `expense_items` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.008ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "table" AND tbl_name = "expense_items" AND (sql LIKE "%CONSTRAINT ""fk_expense_reimbursements_items"" %" OR sql LIKE "%CONSTRAINT fk_expense_reimbursements_items %" OR sql LIKE "%CONSTRAINT `fk_expense_reimbursements_items`%" OR sql LIKE "%CONSTRAINT [fk_expense_reimbursements_items]%" OR sql LIKE "%CONSTRAINT 	fk_expense_reimbursements_items	%")

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_items" AND name = "idx_expense_items_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "expense_items" AND name = "idx_expense_items_reimbursement_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="attachments"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:3][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "attachments" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `attachments` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.006ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "table" AND tbl_name = "attachments" AND (sql LIKE "%CONSTRAINT ""fk_expense_reimbursements_attachments"" %" OR sql LIKE "%CONSTRAINT fk_expense_reimbursements_attachments %" OR sql LIKE "%CONSTRAINT `fk_expense_reimbursements_attachments`%" OR sql LIKE "%CONSTRAINT [fk_expense_reimbursements_attachments]%" OR sql LIKE "%CONSTRAINT 	fk_expense_reimbursements_attachments	%")

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "attachments" AND name = "idx_attachments_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "attachments" AND name = "idx_attachments_reimbursement_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="workflow_templates"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:3][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "workflow_templates" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `workflow_templates` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_templates" AND name = "idx_workflow_templates_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_templates" AND name = "idx_workflow_templates_created_by"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="process_nodes"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "process_nodes" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `process_nodes` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.006ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "table" AND tbl_name = "process_nodes" AND (sql LIKE "%CONSTRAINT ""fk_workflow_templates_nodes"" %" OR sql LIKE "%CONSTRAINT fk_workflow_templates_nodes %" OR sql LIKE "%CONSTRAINT `fk_workflow_templates_nodes`%" OR sql LIKE "%CONSTRAINT [fk_workflow_templates_nodes]%" OR sql LIKE "%CONSTRAINT 	fk_workflow_templates_nodes	%")

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "process_nodes" AND name = "idx_process_nodes_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "process_nodes" AND name = "idx_process_nodes_template_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "process_nodes" AND name = "idx_process_nodes_node_key"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "process_nodes" AND name = "idx_process_nodes_node_type"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="workflow_instances"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.018ms] [34;1m[rows:7][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "workflow_instances" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `workflow_instances` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_template_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_business_type"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_business_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_status"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "workflow_instances" AND name = "idx_workflow_instances_started_by"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type='table' AND name="approval_logs"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.017ms] [34;1m[rows:5][0m SELECT sql FROM sqlite_master WHERE type IN ("table","index") AND tbl_name = "approval_logs" AND sql IS NOT NULL order by type = "table" desc

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.004ms] [34;1m[rows:-][0m SELECT * FROM `approval_logs` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "approval_logs" AND name = "idx_approval_logs_deleted_at"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "approval_logs" AND name = "idx_approval_logs_instance_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "approval_logs" AND name = "idx_approval_logs_node_key"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/cmd/server/main.go:20
[0m[33m[0.003ms] [34;1m[rows:-][0m SELECT count(*) FROM sqlite_master WHERE type = "index" AND tbl_name = "approval_logs" AND name = "idx_approval_logs_actor_id"

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:23
[0m[33m[0.034ms] [34;1m[rows:1][0m SELECT * FROM `permissions` WHERE code = "ticket:read" AND `permissions`.`deleted_at` IS NULL ORDER BY `permissions`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:23
[0m[33m[0.037ms] [34;1m[rows:1][0m SELECT * FROM `permissions` WHERE code = "ticket:write" AND `permissions`.`deleted_at` IS NULL ORDER BY `permissions`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:23
[0m[33m[0.021ms] [34;1m[rows:1][0m SELECT * FROM `permissions` WHERE code = "user:read" AND `permissions`.`deleted_at` IS NULL ORDER BY `permissions`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:23
[0m[33m[0.017ms] [34;1m[rows:1][0m SELECT * FROM `permissions` WHERE code = "user:write" AND `permissions`.`deleted_at` IS NULL ORDER BY `permissions`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:33
[0m[33m[0.017ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = "admin" AND `roles`.`deleted_at` IS NULL ORDER BY `roles`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:43
[0m[33m[0.024ms] [34;1m[rows:4][0m SELECT * FROM `permissions` WHERE `permissions`.`deleted_at` IS NULL

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:44
[0m[33m[0.249ms] [34;1m[rows:0][0m INSERT INTO `permissions` (`created_at`,`updated_at`,`deleted_at`,`code`,`description`,`id`) VALUES ("2026-02-01 11:10:23.682","2026-02-01 11:10:23.682",NULL,"ticket:read","Read tickets",1),("2026-02-01 11:10:23.682","2026-02-01 11:10:23.682",NULL,"ticket:write","Create/update tickets",2),("2026-02-01 11:10:23.683","2026-02-01 11:10:23.683",NULL,"user:read","Read users",3),("2026-02-01 11:10:23.683","2026-02-01 11:10:23.683",NULL,"user:write","Manage users",4) ON CONFLICT DO NOTHING RETURNING `id`

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:44
[0m[33m[0.018ms] [34;1m[rows:0][0m INSERT INTO `role_permissions` (`role_id`,`permission_id`) VALUES (1,1),(1,2),(1,3),(1,4) ON CONFLICT DO NOTHING

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:44
[0m[33m[0.733ms] [34;1m[rows:1][0m UPDATE `roles` SET `updated_at`="2026-02-03 10:57:20.599" WHERE `roles`.`deleted_at` IS NULL AND `id` = 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:44
[0m[33m[0.038ms] [34;1m[rows:0][0m DELETE FROM `role_permissions` WHERE `role_permissions`.`role_id` = 1 AND `role_permissions`.`permission_id` NOT IN (1,2,3,4)

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:48
[0m[33m[0.030ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = "admin" AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:83
[0m[33m[0.015ms] [34;1m[rows:1][0m SELECT count(*) FROM `departments` WHERE `departments`.`deleted_at` IS NULL

2026/02/03 10:57:20 [32m/Users/sunqiang/Desktop/OA_Worker/backend/internal/service/seed.go:164
[0m[33m[0.015ms] [34;1m[rows:1][0m SELECT count(*) FROM `workflow_templates` WHERE name = "Expense Reimbursement" AND `workflow_templates`.`deleted_at` IS NULL
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /healthz                  --> example.com/oa-workorder/internal/http.NewRouter.func1 (4 handlers)
[GIN-debug] POST   /api/v1/auth/slider/verify --> example.com/oa-workorder/internal/handler.(*AuthHandler).SliderVerify-fm (4 handlers)
[GIN-debug] POST   /api/v1/auth/login        --> example.com/oa-workorder/internal/handler.(*AuthHandler).Login-fm (4 handlers)
[GIN-debug] POST   /api/v1/auth/refresh      --> example.com/oa-workorder/internal/handler.(*AuthHandler).Refresh-fm (4 handlers)
[GIN-debug] POST   /api/v1/auth/logout       --> example.com/oa-workorder/internal/handler.(*AuthHandler).Logout-fm (4 handlers)
[GIN-debug] GET    /api/v1/users/me          --> example.com/oa-workorder/internal/handler.(*UserHandler).Me-fm (5 handlers)
[GIN-debug] GET    /api/v1/users             --> example.com/oa-workorder/internal/handler.(*UserHandler).List-fm (5 handlers)
[GIN-debug] GET    /api/v1/departments       --> example.com/oa-workorder/internal/handler.(*DepartmentHandler).List-fm (5 handlers)
[GIN-debug] GET    /api/v1/departments/:id/users --> example.com/oa-workorder/internal/handler.(*DepartmentHandler).GetUsers-fm (5 handlers)
[GIN-debug] GET    /api/v1/tickets           --> example.com/oa-workorder/internal/handler.(*TicketHandler).List-fm (6 handlers)
[GIN-debug] GET    /api/v1/tickets/:id       --> example.com/oa-workorder/internal/handler.(*TicketHandler).Get-fm (6 handlers)
[GIN-debug] POST   /api/v1/tickets           --> example.com/oa-workorder/internal/handler.(*TicketHandler).Create-fm (6 handlers)
[GIN-debug] PATCH  /api/v1/tickets/:id       --> example.com/oa-workorder/internal/handler.(*TicketHandler).Update-fm (6 handlers)
[GIN-debug] GET    /api/v1/forms             --> example.com/oa-workorder/internal/handler.(*FormHandler).List-fm (5 handlers)
[GIN-debug] POST   /api/v1/forms             --> example.com/oa-workorder/internal/handler.(*FormHandler).Create-fm (5 handlers)
[GIN-debug] GET    /api/v1/forms/:id         --> example.com/oa-workorder/internal/handler.(*FormHandler).Get-fm (5 handlers)
[GIN-debug] GET    /api/v1/workflows/templates --> example.com/oa-workorder/internal/handler.(*WorkflowHandler).ListTemplates-fm (5 handlers)
[GIN-debug] POST   /api/v1/workflows/templates --> example.com/oa-workorder/internal/handler.(*WorkflowHandler).CreateTemplate-fm (5 handlers)
[GIN-debug] GET    /api/v1/workflows/templates/:id --> example.com/oa-workorder/internal/handler.(*WorkflowHandler).GetTemplate-fm (5 handlers)
[GIN-debug] GET    /api/v1/reimbursements    --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).List-fm (5 handlers)
[GIN-debug] POST   /api/v1/reimbursements    --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Create-fm (5 handlers)
[GIN-debug] GET    /api/v1/reimbursements/:id --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Get-fm (5 handlers)
[GIN-debug] PATCH  /api/v1/reimbursements/:id --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Update-fm (5 handlers)
[GIN-debug] POST   /api/v1/reimbursements/:id/submit --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Submit-fm (5 handlers)
[GIN-debug] POST   /api/v1/reimbursements/:id/approve --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Approve-fm (5 handlers)
[GIN-debug] POST   /api/v1/reimbursements/:id/reject --> example.com/oa-workorder/internal/handler.(*ReimbursementHandler).Reject-fm (5 handlers)
[GIN-debug] GET    /api/v1/reimbursements/:id/logs --> example.com/oa-workorder/internal/handler.(*ApprovalLogHandler).ListByReimbursement-fm (5 handlers)
[GIN-debug] POST   /open/v1/tickets          --> example.com/oa-workorder/internal/handler.(*OpenHandler).CreateTicket-fm (5 handlers)
2026/02/03 10:57:20 server listening on 127.0.0.1:18080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on 127.0.0.1:18080
[GIN-debug] [ERROR] listen tcp 127.0.0.1:18080: bind: address already in use
2026/02/03 10:57:20 server stopped: listen tcp 127.0.0.1:18080: bind: address already in use
exit status 1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           [GIN] 2026/02/03 - 10:58:31 | 404 |    3.063375ms |       127.0.0.1 | GET      "/"
[GIN] 2026/02/03 - 10:58:31 | 404 |     148.083µs |       127.0.0.1 | GET      "/"
[GIN] 2026/02/03 - 10:58:31 | 404 |      36.625µs |       127.0.0.1 | GET      "/favicon.ico"
[GIN] 2026/02/03 - 10:59:28 | 404 |       3.208µs |       127.0.0.1 | HEAD     "/healthz"
[GIN] 2026/02/03 - 10:59:56 | 401 |    4.595292ms |       127.0.0.1 | GET      "/api/v1/users"
[GIN] 2026/02/03 - 11:00:09 | 204 |       27.25µs |       127.0.0.1 | OPTIONS  "/api/v1/users/me"
[GIN] 2026/02/03 - 11:00:09 | 401 |    3.432791ms |       127.0.0.1 | GET      "/api/v1/users/me"
[GIN] 2026/02/03 - 11:00:09 | 401 |      55.459µs |       127.0.0.1 | GET      "/api/v1/users/me"
[GIN] 2026/02/03 - 11:00:09 | 204 |       6.542µs |       127.0.0.1 | OPTIONS  "/api/v1/auth/refresh"

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:154
[0m[33m[12.920ms] [34;1m[rows:1][0m SELECT * FROM `refresh_tokens` WHERE (token_hash = "842aa3cc7e8f653647158c131503b97ed70768105cf14c693e385abbdf1bbd4f" AND revoked_at IS NULL AND expires_at > "2026-02-03 11:00:09.997") AND `refresh_tokens`.`deleted_at` IS NULL ORDER BY `refresh_tokens`.`id` LIMIT 1

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:154
[0m[33m[11.849ms] [34;1m[rows:1][0m SELECT * FROM `refresh_tokens` WHERE (token_hash = "842aa3cc7e8f653647158c131503b97ed70768105cf14c693e385abbdf1bbd4f" AND revoked_at IS NULL AND expires_at > "2026-02-03 11:00:09.999") AND `refresh_tokens`.`deleted_at` IS NULL ORDER BY `refresh_tokens`.`id` LIMIT 1

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:161
[0m[33m[1.766ms] [34;1m[rows:1][0m UPDATE `refresh_tokens` SET `created_at`="2026-02-03 10:19:59.278",`updated_at`="2026-02-03 11:00:10.013",`deleted_at`=NULL,`user_id`=1,`token_hash`="842aa3cc7e8f653647158c131503b97ed70768105cf14c693e385abbdf1bbd4f",`expires_at`="2026-03-05 10:19:59.278",`revoked_at`="2026-02-03 11:00:10.013" WHERE `refresh_tokens`.`deleted_at` IS NULL AND `id` = 77

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:174
[0m[33m[1.030ms] [34;1m[rows:1][0m INSERT INTO `refresh_tokens` (`created_at`,`updated_at`,`deleted_at`,`user_id`,`token_hash`,`expires_at`,`revoked_at`) VALUES ("2026-02-03 11:00:10.015","2026-02-03 11:00:10.015",NULL,1,"b110b93777b414834200a58b4ca7527bb98ae22130ba5b4760b68fea1cadce60","2026-03-05 11:00:10.015",NULL) RETURNING `id`
[GIN] 2026/02/03 - 11:00:10 | 200 |   20.716583ms |       127.0.0.1 | POST     "/api/v1/auth/refresh"

2026/02/03 11:00:10 [31;1m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:161 [35;1mdatabase table is locked
[0m[33m[1.776ms] [34;1m[rows:0][0m UPDATE `refresh_tokens` SET `created_at`="2026-02-03 10:19:59.278",`updated_at`="2026-02-03 11:00:10.013",`deleted_at`=NULL,`user_id`=1,`token_hash`="842aa3cc7e8f653647158c131503b97ed70768105cf14c693e385abbdf1bbd4f",`expires_at`="2026-03-05 10:19:59.278",`revoked_at`="2026-02-03 11:00:10.013" WHERE `refresh_tokens`.`deleted_at` IS NULL AND `id` = 77

2026/02/03 11:00:10 [31;1m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/auth.go:174 [35;1mUNIQUE constraint failed: refresh_tokens.token_hash
[0m[33m[0.194ms] [34;1m[rows:0][0m INSERT INTO `refresh_tokens` (`created_at`,`updated_at`,`deleted_at`,`user_id`,`token_hash`,`expires_at`,`revoked_at`) VALUES ("2026-02-03 11:00:10.016","2026-02-03 11:00:10.016",NULL,1,"b110b93777b414834200a58b4ca7527bb98ae22130ba5b4760b68fea1cadce60","2026-03-05 11:00:10.016",NULL) RETURNING `id`
[GIN] 2026/02/03 - 11:00:10 | 200 |   17.311959ms |       127.0.0.1 | POST     "/api/v1/auth/refresh"

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.270ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:00:10 | 200 |       422.5µs |       127.0.0.1 | GET      "/api/v1/users/me"

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.206ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:00:10 | 200 |     329.291µs |       127.0.0.1 | GET      "/api/v1/users/me"
[GIN] 2026/02/03 - 11:00:10 | 204 |           6µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"
[GIN] 2026/02/03 - 11:00:10 | 204 |      20.042µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.816ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.285ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.179ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:00:10 | 200 |    1.592167ms |       127.0.0.1 | GET      "/api/v1/tickets"

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.186ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.040ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:00:10 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.080ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:00:10 | 200 |     489.958µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:00:37 | 204 |      10.792µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:00:37 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.623ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:00:37 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.194ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:00:37 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.126ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:00:37 | 200 |    1.260834ms |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:02:24 | 204 |         7.5µs |       127.0.0.1 | OPTIONS  "/api/v1/users/me"

2026/02/03 11:02:24 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.287ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:02:24 | 200 |    1.429041ms |       127.0.0.1 | GET      "/api/v1/users/me"
[GIN] 2026/02/03 - 11:02:24 | 204 |      10.042µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:02:24 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.313ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:02:24 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.070ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:02:24 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.084ms] [34;1m[rows:0][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:02:24 | 200 |     765.166µs |       127.0.0.1 | GET      "/api/v1/tickets"

2026/02/03 11:02:25 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.195ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:02:25 | 200 |     344.791µs |       127.0.0.1 | GET      "/api/v1/users/me"

2026/02/03 11:02:25 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.526ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:02:25 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.064ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:02:25 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.050ms] [34;1m[rows:0][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:02:25 | 200 |     943.416µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:05:51 | 204 |      10.292µs |       127.0.0.1 | OPTIONS  "/api/v1/users/me"

2026/02/03 11:05:51 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.229ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:05:51 | 200 |     445.667µs |       127.0.0.1 | GET      "/api/v1/users/me"

2026/02/03 11:05:51 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/user.go:24
[0m[33m[0.257ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`id` = 1 AND `users`.`deleted_at` IS NULL ORDER BY `users`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:05:51 | 200 |     406.542µs |       127.0.0.1 | GET      "/api/v1/users/me"
[GIN] 2026/02/03 - 11:05:51 | 204 |       5.959µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:05:51 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.332ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:05:51 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.049ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:05:51 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.062ms] [34;1m[rows:0][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:05:51 | 200 |     702.291µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:07:23 | 204 |      21.667µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:07:23 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.659ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:write") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:23 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:49
[0m[33m[3.613ms] [34;1m[rows:1][0m INSERT INTO `tickets` (`created_at`,`updated_at`,`deleted_at`,`title`,`description`,`status`,`priority`,`created_by`,`assignee_id`,`type`,`amount`) VALUES ("2026-02-03 11:07:23.701","2026-02-03 11:07:23.701",NULL,"办公费报销","申请人：张三；所属部门：技术部；申请理由：123456789","pending","medium",1,NULL,"expense",100) RETURNING `id`
[GIN] 2026/02/03 - 11:07:23 | 201 |    6.041833ms |       127.0.0.1 | POST     "/api/v1/tickets"

2026/02/03 11:07:23 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.243ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:23 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.035ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:07:23 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.112ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:07:23 | 200 |      641.75µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:07:26 | 204 |       5.875µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:07:26 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.225ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:26 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.100ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:07:26 | 200 |     527.916µs |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:07:33 | 204 |       6.542µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:07:33 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.294ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:33 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.080ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:07:33 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.119ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:07:33 | 200 |     748.167µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:07:41 | 204 |       8.958µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:07:41 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.788ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:41 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.414ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:07:41 | 200 |    1.669958ms |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:07:56 | 204 |       5.792µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:07:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.390ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:07:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.058ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:07:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:07:56 | 200 |         781µs |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:12:44 | 204 |       7.584µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:12:44 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.354ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:12:44 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.121ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:12:44 | 200 |     755.041µs |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:12:49 | 204 |       13.25µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:12:49 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.831ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:write") AND `users`.`deleted_at` IS NULL

2026/02/03 11:12:49 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:130
[0m[33m[4.235ms] [34;1m[rows:1][0m UPDATE `tickets` SET `status`="approved",`updated_at`="2026-02-03 11:12:49.811" WHERE id = "2" AND `tickets`.`deleted_at` IS NULL
[GIN] 2026/02/03 - 11:12:49 | 200 |    5.958584ms |       127.0.0.1 | PATCH    "/api/v1/tickets/2"

2026/02/03 11:12:49 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.478ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:12:49 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.242ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:12:49 | 200 |    1.160458ms |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:12:56 | 204 |      10.125µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:12:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.402ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:12:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.057ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:12:56 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:12:56 | 200 |    1.069417ms |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:12:59 | 204 |      11.334µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:12:59 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.383ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:12:59 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.278ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:12:59 | 200 |    1.000625ms |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:13:03 | 204 |      10.417µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:13:03 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.479ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:13:03 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.092ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:13:03 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:13:03 | 200 |    1.022959ms |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:13:39 | 204 |           8µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:13:39 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.461ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:13:39 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.058ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:13:39 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.093ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:13:39 | 200 |    1.120625ms |       127.0.0.1 | GET      "/api/v1/tickets"
[GIN] 2026/02/03 - 11:13:40 | 204 |        13.5µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets/2"

2026/02/03 11:13:40 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.484ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:13:40 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:88
[0m[33m[0.242ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`id` = "2" AND `tickets`.`deleted_at` IS NULL ORDER BY `tickets`.`id` LIMIT 1
[GIN] 2026/02/03 - 11:13:40 | 200 |    1.257834ms |       127.0.0.1 | GET      "/api/v1/tickets/2"
[GIN] 2026/02/03 - 11:13:46 | 204 |      11.208µs |       127.0.0.1 | OPTIONS  "/api/v1/tickets"

2026/02/03 11:13:46 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/middleware/auth.go:59
[0m[33m[0.384ms] [34;1m[rows:1][0m SELECT count(*) FROM `users` JOIN user_roles ur ON ur.user_id = users.id JOIN role_permissions rp ON rp.role_id = ur.role_id JOIN permissions p ON p.id = rp.permission_id WHERE (users.id = 1 AND p.code = "ticket:read") AND `users`.`deleted_at` IS NULL

2026/02/03 11:13:46 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:72
[0m[33m[0.049ms] [34;1m[rows:1][0m SELECT count(*) FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL

2026/02/03 11:13:46 [32m/Users/sunqiang/Desktop/oa-workorder/backend/internal/handler/ticket.go:73
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT * FROM `tickets` WHERE `tickets`.`deleted_at` IS NULL ORDER BY id desc LIMIT 20
[GIN] 2026/02/03 - 11:13:46 | 200 |     845.209µs |       127.0.0.1 | GET      "/api/v1/tickets"
